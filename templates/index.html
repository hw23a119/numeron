<!DOCTYPE html>
<html lang="ja">

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-FWKVTL0L6T"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-FWKVTL0L6T');
    </script>

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Numeron</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
</head>

<body>
    <div class="container">
        <h1>Numeron</h1>

        <!-- èª¬æ˜è¿½åŠ  -->
        <div class="rule-box">
            <p><strong>EATï¼š</strong>ä½ç½®ã¨æ•°å­—ãŒä¸€è‡´</p>
            <p><strong>BITEï¼š</strong>æ•°å­—ã ã‘ä¸€è‡´ï¼ˆä½ç½®ã¯é•ã†ï¼‰</p>
        </div>

        <!-- ãƒ‡ãƒãƒƒã‚°ç”¨ï¼ˆç­”ãˆè¡¨ç¤ºï¼‰ -->
        <p style="color:red;">ãƒ‡ãƒãƒƒã‚°ç”¨ï¼šç­”ãˆã¯ {{ answer }}</p>

        {% if last_answer %}
        <p>âœ… å‰å›ã®ç­”ãˆï¼š{{ last_answer }}</p>
        {% endif %}

        <!-- åˆ¤å®šãƒ•ã‚©ãƒ¼ãƒ  -->
        <form method="POST" action="/">
            <input type="text" name="guess" maxlength="3" placeholder="3æ¡ã®æ•°å­—ã‚’å…¥åŠ›" required />
            <button type="submit">åˆ¤å®š</button>
        </form>

        <!-- ãƒªãƒ­ãƒ¼ãƒ‰ / å±¥æ­´ãƒªã‚»ãƒƒãƒˆ -->
        <div class="button-row">
            <button type="button" onclick="location.href='/reset'">ğŸ”„ ãƒªãƒ­ãƒ¼ãƒ‰</button>
            <button type="button" onclick="location.href='/clear_history'">å±¥æ­´ãƒªã‚»ãƒƒãƒˆ</button>
        </div>

        <!-- çµæœè¡¨ç¤º -->
        <div class="result">{{ result }}</div>

        <!-- å±¥æ­´è¡¨ç¤º -->
        <div class="history-box">
            <h3>å±¥æ­´ï¼ˆæœ€æ–°5ä»¶ï¼‰</h3>
            {% for item in history %}
            <div class="history-item">
                <strong>{{ item.guess }}</strong> â†’ {{ item.eat }} EAT / {{ item.bite }} BITE
            </div>
            {% endfor %}
        </div>
    </div>
</body>

</html>