<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Numeron</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body>
    <div class="container">
        <h1>Numeron</h1>

        <!-- å‰å›ã®ç­”ãˆ -->
        {% if request.args.get('last') %}
        <p>âœ… å‰å›ã®ç­”ãˆï¼š{{ request.args.get('last') }}</p>
        {% endif %}

        <!-- ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ« -->
        <div class="rule-box">
            <p><strong>EATï¼š</strong>ä½ç½®ã¨æ•°å­—ãŒä¸€è‡´</p>
            <p><strong>BITEï¼š</strong>æ•°å­—ã ã‘ä¸€è‡´ï¼ˆä½ç½®ã¯é•ã†ï¼‰</p>
        </div>

        <!-- æ•°å­—å…¥åŠ› & åˆ¤å®šãƒœã‚¿ãƒ³ -->
        <form method="POST">
            <input type="text" name="guess" placeholder="3æ¡ã®æ•°å­—" maxlength="3" required>
            <button type="submit" name="guessBtn">åˆ¤å®š</button>
        </form>

        <!-- ãƒ’ãƒ³ãƒˆãƒœã‚¿ãƒ³ -->
        <form method="POST">
            <button type="submit" name="hintBtn">ğŸ’¡ ãƒ’ãƒ³ãƒˆ</button>
        </form>

        <!-- æ–°ã—ã„æ•°å­—ï¼ˆãƒªã‚»ãƒƒãƒˆï¼‰ãƒœã‚¿ãƒ³ -->
        <a href="{{ url_for('reset') }}">
            <button type="button">ğŸ”„ æ–°ã—ã„æ•°å­—</button>
        </a>

        <!-- åˆ¤å®šçµæœ -->
        <div class="result">{{ result }}</div>

        <!-- ãƒ’ãƒ³ãƒˆè¡¨ç¤º -->
        {% if hint_message %}
        <div class="hint-box">{{ hint_message }}</div>
        {% endif %}

        <!-- å±¥æ­´è¡¨ç¤º -->
        <div class="history-box">
            <h3>å±¥æ­´ï¼ˆæœ€æ–°5ä»¶ï¼‰</h3>
            {% for item in history %}
            {% if item.type == "guess" %}
            <div class="history-item">
                <strong>{{ item.guess }}</strong> â†’ {{ item.eat }} EAT / {{ item.bite }} BITE
            </div>
            {% elif item.type == "hint" %}
            <div class="history-item">
                <em>{{ item.message }}</em>
            </div>
            {% endif %}
            {% endfor %}
        </div>

    </div>
</body>

</html>